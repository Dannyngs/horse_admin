{"version":3,"sources":["scripts/app-c5680a49b7.js"],"names":["angular","module","constant","factory","currentUser","curentToken","AuthService","login","user","token","logout","isLogined","getCurrentUser","getCurentToken","$rootScope","$q","$window","request","config","headers","UpdateController","$http","$scope","toastr","$location","$uibModalInstance","selected_user","backendURL","update","_id","note","salePrice","password","updateMember","warning","put","then","res","users","data","success","close","error","closeModel","dismiss","$inject","controller","acmeNavbar","NavbarController","directive","restrict","templateUrl","scope","creationDate","controllerAs","bindToController","MultipleController","getMultipleLogin","get","lastUser","multiples","i","length","username","count","push","date","multiplelogin","emptyRecords","console","log","MemberController","$uibModal","showpassword","showpass","getMembers","dailyIncome","monthlyIncome","today","Date","getDate","registeredOn","regDate","getFullYear","getMonth","parseInt","deleteMember","id","confirm","err","showAddMember","$","modal","addMember","role","roles","label","value","showUpdateMember","openUpdate","open","animation","resolve","openCreate","items","MainController","getOnlineMembers","onlineusers","refreshOnlineMembers","takeoffline","LoginController","adminLogin","post","path","CreateController","saveMember","runBlock","$log","debug","$on","event","toState","toParams","fromState","fromParams","authRequired","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","otherwise","$logProvider","toastrConfig","$httpProvider","debugEnabled","allowHtml","timeOut","positionClass","interceptors","$templateCache"],"mappings":"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","file":"scripts/app-c5680a49b7.js","sourcesContent":["\n(function() {\n  'use strict';\n\n  angular\n    .module('horseAdmin', ['ngResource', 'ui.router', 'ui.bootstrap', 'toastr'])\n     .constant('backendURL', 'http://horseback-dev.ap-southeast-1.elasticbeanstalk.com/admin')\n  //.constant('backendURL', 'http://localhost/admin')\n      .factory('AuthService',function(){\n      var currentUser=null;\n      var curentToken=null;\n      var AuthService= {\n          \n          login:function(user,token){\n              currentUser=user;\n              curentToken=token;\n             \n          },\n          logout:function(){\n              currentUser=null;\n             curentToken=null;\n\n              \n          },\n          isLogined:function(){\n              if(!curentToken)\n              return false;\n              return true;\n          },\n          getCurrentUser:function(){\n          \n          return currentUser;\n            \n            },\n          getCurentToken:function(){\n          \n          return curentToken;\n            \n            }\n          \n          \n      }\n      \n      return AuthService;\n      \n      \n  })\n        .factory('authInterceptor', function ($rootScope, $q, $window,AuthService) {\n  return {\n    request: function (config) {\n      config.headers = config.headers || {};\n      if (AuthService.getCurentToken()) {\n        config.headers.token = AuthService.getCurentToken();\n      }\n      return config;\n    }\n  }\n  \n});;\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('horseAdmin')\n    .controller('UpdateController', UpdateController);\n\n  /** @ngInject */\n  function UpdateController($http, $scope,$rootScope,toastr,AuthService,$location, $uibModalInstance,selected_user,backendURL) {\n\n  $scope.update={};\n     $scope.update._id=selected_user._id;\n      $scope.update.note=selected_user.note;\n           $scope.update.salePrice=selected_user.salePrice;\n     $scope.update.password=selected_user.password;      \n      \n      \n $scope.updateMember = function(user){\n\n     if(user.password==\"\")return toastr.warning(\"Password cannot be empty\",\"Warning\");\n     $http.put(backendURL+'/api/users/'+user._id,user).then(function(res){\n          $rootScope.users=res.data;\n         toastr.success(\"Success\");\n         $uibModalInstance.close();\n     },function(res){\n         toastr.error(res.data,\"Error\");\n\n     })\n }\n\n\n$scope.closeModel = function(){\n\n      $uibModalInstance.dismiss('cancel');\n    }\n\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('horseAdmin')\n    .directive('acmeNavbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/view/navbar.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController() {\n\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('horseAdmin')\n    .controller('MultipleController', MultipleController);\n\n  /** @ngInject */\n  function MultipleController($http, $scope,toastr,backendURL) {\n         \n   \n \n \n      function getMultipleLogin(){\n         \n          $http.get(backendURL+'/api/multiplelogin').then(function(res){\n             \n                var lastUser=null;\n              var multiples=[];\n              var multipleCount = 0;\n              for(var i=0;i<res.data.length;i++)\n                  {\n                      var user =res.data[i];\n                      if(user.username!=lastUser)           \n                      {\n                          user.count = 1;\n                          lastUser=user.username;\n                          multiples.push(user);\n                         \n                          \n                      }else\n                          {\n                             multiples[(multiples.length-1)].count++; \n                              multiples[(multiples.length-1)].date=user.date;\n                              \n                          }\n                     \n                     \n                     \n                        \n                  }\n              \n              \n              \n              \n              $scope.multiplelogin  = multiples;\n          },function(res){\n              toastr.error(res.data)\n          })\n      }\n      \n      \n  \n \n   \n      \n      getMultipleLogin();\n    \n  \n \n \n $scope.emptyRecords = function(){\n     \n     $http.delete(backendURL+'/api/multiplelogin/').then(function(res){\n         toastr.success(res.data,\"Success\");\n         getMultipleLogin();\n         console.log('empty!')\n     },function(res){})\n }\n\n  \n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('horseAdmin')\n    .controller('MemberController', MemberController);\n\n  /** @ngInject */\n  function MemberController($http, $scope,$rootScope,toastr,$uibModal,backendURL) {\n\n    var updateModel,createModel;\n\n      $scope.user={};\n      $scope.showpassword=false;\n\n\n\n\n      $scope.showpass=function(){\n\n           $scope.showpassword=!$scope.showpassword;\n\n      }\n\n\n\n  $rootScope.getMembers=function(){\n\n      $http.get(backendURL+'/api/users').then(function(res){\n          var dailyIncome = 0;\n          var monthlyIncome = 0;\n          var today = new Date();\n          console.log('todayis :'+today.getDate())\n          for(var i=0;i<res.data.length;i++)\n              {\n                  var user = res.data[i];\n\n\n                  if(user.registeredOn && user.salePrice){\n                      var regDate = new Date(user.registeredOn)\n\n                      if( regDate.getFullYear() == today.getFullYear() && regDate.getMonth() == today.getMonth() )\n                          {\n                              monthlyIncome += parseInt(user.salePrice)\n                                if( regDate.getDate() == today.getDate() )\n                                    dailyIncome += parseInt(user.salePrice)\n                           }\n\n                  }\n\n\n\n\n\n              }\n         //  console.log(dailyIncome)\n          $rootScope.users=res.data;\n          $scope.monthlyIncome = monthlyIncome\n          $scope.dailyIncome = dailyIncome\n      },function(){\n\n      })\n\n  }\n\n\n\n\n\n   $rootScope.getMembers();\n\n\n\n\n\n $scope.deleteMember=function(id){\n     if(confirm(\"Sure to delete?\")){\n     $http.delete(backendURL+'/api/users/'+id).then(function(res){\n         toastr.success(\"Success\");\n         console.log(res.data)\n          $rootScope.users=res.data;\n     },function(err){})\n     }\n }\n\n \n  $scope.showAddMember = function(id){\n\n     $('#addModel').modal('show');\n     $scope.addMember={};\n      $scope.addMember.role=\"member\";\n     $scope.roles=[\n          {label:\"Member\",value:\"member\"},\n          {label:\"Admin\",value:\"admin\"}\n\n      ]\n\n     console.log($scope.roles);\n }\n\n\n $scope.showUpdateMember = function(user){\n\n     $('#updateModel').modal('show');\n     $scope.update={};\n     $scope.update._id=user._id;\n      $scope.update.note=user.note;\n           $scope.update.salePrice=user.salePrice;\n     $scope.update.password=user.password;\n\n }\n\n\n\n\n//\n \n \n  $scope.openUpdate = function (user) {\n\n    $uibModal.open({\n      animation: true,\n      templateUrl: 'app/view/updateModel.html',\n      controller: 'UpdateController',\n\n      resolve: {\n        selected_user: function () {\n          return user;\n        }\n      }\n    });\n }\n\n  \n   $scope.openCreate = function () {\n\n   $uibModal.open({\n      animation: true,\n      templateUrl: 'app/view/createModel.html',\n      controller: 'CreateController',\n\n      resolve: {\n        items: function () {\n          return $scope.items;\n        }\n      }\n    });\n }\n\n \n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('horseAdmin')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($http, $scope,toastr,AuthService,backendURL) {\n\n\n\nfunction getOnlineMembers(){\n\n\n      $http.get(backendURL+'/api/onlineusers').then(function(res){\n          $scope.onlineusers=res.data;\n\n\n      },function(){\n\n      })\n\n  }\n\n\n\n\n\n     getOnlineMembers();\n\n\n\n $scope.refreshOnlineMembers=getOnlineMembers;\n\n\n\n\n\n  $scope.takeoffline=function(id){\n\n     $http.delete(backendURL+'/api/onlineusers/'+id).then(function(res){\n         toastr.success(res.data);\n         getOnlineMembers();\n     },function(err){})\n }\n\n\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('horseAdmin')\n    .controller('LoginController', LoginController);\n\n  /** @ngInject */\n  function LoginController($http, $scope,toastr,AuthService,$location,backendURL) {\n\n $scope.user={\n     \n }\n\n $scope.adminLogin=function(user){\n\n     $http.post(backendURL+'/api/login',{id:user.id,password:user.password}).then(function(res){\n        toastr.success(\"Login Successfully!!\")\n\n        AuthService.login(user,res.data.token);\n         $location.path(\"/\")\n\n\n      },function(err){\n                    console.log(err);\n         toastr.error(\"Auth Failed!\")\n\n      })\n\n\n\n  }\n\n\n\n\n\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('horseAdmin')\n    .controller('CreateController', CreateController);\n\n  /** @ngInject */\n  function CreateController($http, $scope,toastr,AuthService,$location, $uibModalInstance,$rootScope,backendURL) {\n\n      \n      \n$scope.addMember={};\n$scope.addMember.role=\"member\";\n$scope.roles=[\n          {label:\"Member\",value:\"member\"},\n          {label:\"Admin\",value:\"admin\"}\n\n      ]      \n      \n$scope.saveMember  = function(user){\n    \n      if(user.password==\"\"||user.username==\"\")return toastr.warning(\"Username or Password cannot be empty\",\"Warning\");\n    $http.post(backendURL+'/api/users',user).then(function(res){\n\n         toastr.success(\"Success\");\n       $rootScope.users=res.data;\n        user={};\n     },function(res){\n          toastr.error(res.data,\"Error\");\n     })\n }\n\n\n$scope.closeModel = function(){\n\n      $uibModalInstance.dismiss('cancel');\n    }\n\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('horseAdmin')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log,$rootScope,AuthService,$location) {\n\n    $log.debug('runBlock end');\n\n\n\n      $rootScope.$on('$stateChangeStart', function(event, toState, toParams, fromState, fromParams) {\n\n\n\n            if(toState.authRequired){\n                 if (!AuthService.isLogined()) {\n\n                   return $location.path('/login')\n                }\n\n             }\n            if (toState.templateUrl === 'app/view/login.html' && AuthService.isLogined()) {\n\n                $location.path('/home')\n            }\n\n\n\n\n        });\n\n\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('horseAdmin')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/view/main.html',\n        controller: 'MainController',\n        controllerAs: 'main',\n        authRequired:true\n      })\n    .state('login', {\n        url: '/login',\n        templateUrl: 'app/view/login.html',\n        controller: 'LoginController',\n        controllerAs: 'login',\n        authRequired:false\n      })\n    .state('member', {\n        url: '/member',\n        templateUrl: 'app/view/member.html',\n        controller: 'MemberController',\n        controllerAs: 'member',\n        authRequired:true,\n      })\n     .state('multiple', {\n        url: '/multiple',\n        templateUrl: 'app/view/multiple.html',\n        controller: 'MultipleController',\n        controllerAs: 'multiple',\n        authRequired:true\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('horseAdmin')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig,$httpProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 2000;\n    toastrConfig.positionClass = 'toast-top-right';\n       $httpProvider.interceptors.push('authInterceptor');\n  }\n\n})();\n\nangular.module(\"horseAdmin\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/view/createModel.html\",\"<div class=\\\"modal-header\\\"><h4 class=\\\"modal-title\\\" id=\\\"myModalLabel\\\">Add Member</h4></div><div class=\\\"modal-body\\\"><form><div class=\\\"form-group\\\"><label for=\\\"exampleInputEmail1\\\">Username</label> <input type=\\\"username\\\" ng-model=\\\"addMember.username\\\" class=\\\"form-control\\\" placeholder=\\\"Username\\\"></div><div class=\\\"form-group\\\"><label for=\\\"exampleInputPassword1\\\">Password</label> <input type=\\\"password\\\" ng-model=\\\"addMember.password\\\" class=\\\"form-control\\\" placeholder=\\\"Password\\\"></div><div class=\\\"form-group\\\"><label for=\\\"exampleInputPassword1\\\">Role</label><select class=\\\"form-control\\\" ng-model=\\\"addMember.role\\\" ng-options=\\\"r.value as r.label for r in roles\\\"></select></div><div class=\\\"form-group\\\"><label for=\\\"exampleInputEmail1\\\">Sale Price</label> <input type=\\\"number\\\" ng-model=\\\"addMember.salePrice\\\" class=\\\"form-control\\\" placeholder=\\\"salePrice\\\"></div><div class=\\\"form-group\\\"><label for=\\\"exampleInputPassword1\\\">Note</label> <input type=\\\"text\\\" ng-model=\\\"addMember.note\\\" class=\\\"form-control\\\" placeholder=\\\"Note\\\"></div></form></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"closeModel()\\\">Close</button> <button ng-click=\\\"saveMember(addMember)\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\">Save</button></div>\");\n$templateCache.put(\"app/view/login.html\",\"<div class=\\\"container\\\" style=\\\"padding:20px;\\\"><div class=\\\"row\\\"><div class=\\\"col-md-6 col-md-offset-3\\\"><div class=\\\"jumbotron text-center\\\"><h2>RACING PRO Admin</h2><form class=\\\"pad20\\\"><div class=\\\"form-group\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"exampleInputEmail1\\\" placeholder=\\\"ID\\\" ng-model=\\\"user.id\\\"></div><div class=\\\"form-group\\\"><input type=\\\"password\\\" class=\\\"form-control\\\" id=\\\"exampleInputPassword1\\\" placeholder=\\\"Password\\\" ng-model=\\\"user.password\\\"></div><button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"adminLogin(user)\\\">Login</button></form></div></div></div></div>\");\n$templateCache.put(\"app/view/main.html\",\"<acme-navbar creation-date=\\\"main.creationDate\\\"></acme-navbar><div class=\\\"container\\\"><h3>Current Online Member</h3>{{isLogined()}}<div class=\\\"row\\\"><div class=\\\"col-sm-8 col-md-8 col-md-offset-2\\\"><table class=\\\"table table-hover\\\"><thead></thead><td>Member</td><td>Login Date</td><td>Take it offline</td><tr ng-repeat=\\\"u in onlineusers\\\"><td>{{u.userkey}}</td><td>{{u.date | date:\\'yyyy-MM-dd HH:mm:ss\\'}}</td><td><button ng-click=\\\"takeoffline(u._id)\\\" type=\\\"button\\\" class=\\\"pull-right btn btn-sm btn-info\\\">Offline</button></td></tr></table><button ng-click=\\\"refreshOnlineMembers()\\\" type=\\\"button\\\" class=\\\"pull-right btn btn-sm btn-primary\\\">Refresh</button></div></div></div>\");\n$templateCache.put(\"app/view/member.html\",\"<acme-navbar creation-date=\\\"main.creationDate\\\"></acme-navbar><div class=\\\"container\\\"><h3>Member Manager</h3><div class=\\\"row pad10\\\"><div class=\\\"col-md-3 pad10\\\"><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"exampleInputAmount\\\" placeholder=\\\"Username\\\" ng-model=\\\"search.username\\\"> <span class=\\\"input-group-addon\\\"><i class=\\\"glyphicon glyphicon-search\\\"></i></span></div></div><div class=\\\"col-md-3 col-md-offset-6 pad10\\\"><button ng-click=\\\"showpass()\\\" type=\\\"button\\\" class=\\\"btn btn-info\\\">Password</button> <button ng-click=\\\"openCreate()\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\">Add Member</button></div></div><div class=\\\"row\\\" ng-hide=\\\"true\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover table-bordered\\\"><thead></thead><td>Monthly Income</td><td><strong>Daily Income</strong></td><tr><td>{{ monthlyIncome | currency }}</td><td>{{ dailyIncome | currency }}</td></tr></table></div></div><div class=\\\"row pad10\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table table-hover table-bordered\\\"><thead></thead><td>Username ($ = admin)</td><td>Password</td><td>Role</td><td>Sale Price</td><td>Note</td><td>Date</td><td>Delete/Update</td><tr ng-repeat=\\\"u in users | filter:search |orderBy:\\'-username\\'\\\"><td><span ng-show=\\\"u.role==\\'admin\\'\\\">$</span>{{u.username}}</td><td><span ng-show=\\\"showpassword\\\">{{u.password}}</span><span ng-hide=\\\"showpassword\\\">***</span></td><td>{{u.role}}</td><td>{{u.salePrice|currency}}</td><td>{{u.note}}</td><td>{{u.registeredOn|date:\\'yyyy-MM-dd\\'}}</td><td><div class=\\\"btn-group\\\" role=\\\"group\\\" aria-label=\\\"...\\\"><button class=\\\"btn btn-danger\\\" type=\\\"button\\\" ng-click=\\\"deleteMember(u._id)\\\">Delete</button> <button class=\\\"btn btn-primary\\\" type=\\\"button\\\" ng-click=\\\"openUpdate(u)\\\">Update</button></div></td></tr></table></div></div></div>\");\n$templateCache.put(\"app/view/multiple.html\",\"<acme-navbar creation-date=\\\"main.creationDate\\\"></acme-navbar><div class=\\\"container\\\"><h3>Multiple Online Member</h3><div class=\\\"row\\\"><div class=\\\"form-inline\\\"><div style=\\\"margin:20px;\\\" class=\\\"pull-right form-group\\\"><div class=\\\"input-group\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"exampleInputAmount\\\" placeholder=\\\"Account\\\" ng-model=\\\"searchacc.username\\\"> <span class=\\\"input-group-addon\\\"><i class=\\\"glyphicon glyphicon-search\\\"></i></span></div></div></div><table class=\\\"table table-hover\\\"><thead></thead><td>Count(s)</td><td>Account</td><td>Date</td><tr ng-repeat=\\\"rc in multiplelogin |filter:searchacc\\\"><td>{{rc.count}}</td><td>{{rc.username}}</td><td>{{rc.date | date:\\'yyyy-MM-dd HH:mm:ss\\'}}</td></tr></table><button ng-click=\\\"emptyRecords()\\\" type=\\\"button\\\" class=\\\"pull-right btn btn-sm btn-danger\\\">Empty Records</button></div></div>\");\n$templateCache.put(\"app/view/navbar.html\",\"<nav class=\\\"navbar navbar-static-top navbar-inverse\\\"><div class=\\\"container\\\"><div class=\\\"navbar-header\\\"><button type=\\\"button\\\" class=\\\"navbar-toggle\\\" ng-init=\\\"navCollapsed = true\\\" ng-click=\\\"navCollapsed = !navCollapsed\\\"><span class=\\\"sr-only\\\">Toggle navigation</span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span> <span class=\\\"icon-bar\\\"></span></button> <a class=\\\"navbar-brand\\\" href=\\\"#\\\">Racing Pro Admin</a></div><div class=\\\"collapse navbar-collapse\\\" ng-class=\\\"!navCollapsed && \\'in\\'\\\"><ul class=\\\"nav navbar-nav\\\"><li><a ng-href=\\\"#member\\\">Member</a></li><li><a ng-href=\\\"#multiple\\\">Multiple Login</a></li></ul></div></div></nav>\");\n$templateCache.put(\"app/view/updateModel.html\",\"<div class=\\\"modal-header\\\"><h4 class=\\\"modal-title\\\" id=\\\"myModalLabel\\\">Update</h4></div><div class=\\\"modal-body\\\"><form><div class=\\\"form-group\\\"><label for=\\\"exampleInputPassword1\\\">Password</label> <input type=\\\"password\\\" ng-model=\\\"update.password\\\" class=\\\"form-control\\\" placeholder=\\\"Password\\\"></div><div class=\\\"form-group\\\"><label for=\\\"exampleInputEmail1\\\">Sale Price</label> <input type=\\\"number\\\" ng-model=\\\"update.salePrice\\\" class=\\\"form-control\\\" placeholder=\\\"salePrice\\\"></div><div class=\\\"form-group\\\"><label for=\\\"exampleInputPassword1\\\">Note</label> <input type=\\\"text\\\" ng-model=\\\"update.note\\\" class=\\\"form-control\\\" placeholder=\\\"Note\\\"></div></form></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"closeModel()\\\">Close</button> <button ng-click=\\\"updateMember(update)\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\">Update</button></div>\");}]);"],"sourceRoot":"/source/"}